<!DOCTYPE html><html class=no-js><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Extend Partition</title><meta name=description content="Speed of light, Personal Blog, WebStudio"><meta name=viewport content="width=device-width, initial-scale=1"><meta name=robots content="index, follow"><meta name=author content=speed-of-light><meta name=copyright content="2014 to forever &copy;"><meta name=keywords content="Personal Blog, web-desing, freelancing, freelancer, website building"><meta name=google content=notranslate><!-- Place favicon.ico and apple-touch-icon(s) in the root directory --><link rel=stylesheet href=/css/main.f449.css><!--[if lt IE 9]>
    <script src="/js/head-scripts.a52a.js"></script>
    <![endif]--></head><body><!--[if lt IE 8]>
    <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
<![endif]--><div class=wrapper><div class=container><header class=header><a href="/"><h1>Speed Of Light</h1></a><div class=desc>Moving as speed of light.</div></header><div class="nine columns"><h2>Extend Partition</h2><article class=post><p><strong>This is not a&nbsp;tutorial!</strong></p><p>Recently my ubuntu become very slow. After use <code>uptime</code>, I have found&nbsp;that the load average is quite high. Sometimes it’s goes <code>10.32, 9.41, 6.88</code>,&nbsp;and much much higher, even more then <code>15.0</code>&nbsp;today.</p><p>Originally I don’t really care this issue because I could still work.&nbsp;Although the fan still operting on full-speed. But this is very annoying while it’s&nbsp;stops me to continue my&nbsp;work.</p><p>At first, I just removed the <code>unity</code> and reinstalled it. But this only&nbsp;imporved several days. Until today it’s bumped a warning message to told me that the&nbsp;disk is almost full and needs to be&nbsp;check.</p><p>Because I just checked my vm and find nothing could be deleted. So I started&nbsp;to try to expend my disk space from other source. After installed&nbsp;addition gigabytes, the problem finally comes: I have free space on machine, but I&nbsp;can’t use&nbsp;it.</p><p>Some direct way to solve this is just create a new partition, and mounted on&nbsp;the system. But I want to expand my boot partition, and there are <code>swap</code>&nbsp;area also running on my system. So the first thing is jsut make swap&nbsp;off.</p><p>For simplicity, I just use the <span class=caps>GUI</span> tool called <code>Disks</code> to remove swap off.&nbsp;The buttons shell changed in the future, so I won’t describe how did I make&nbsp;it. Now I got a totally free partitions at the end of my disk. The problem&nbsp;should soon approached to my desired result. Huh? Just install the app <code>Gparted</code>&nbsp;and everything just like a peice of&nbsp;cake.</p><p>The sad thing is <code>Gparted</code> does not allow people like me to shrink disk&nbsp;while it is partitioned as bootable flag. So I need use a live <span class=caps>CD</span> built-in&nbsp;version, which will be run as on another <span class=caps>OS.</span> To make my machine boot on by the live&nbsp;<span class=caps>CD</span> is another bothering work. First I need change the <span class=caps>BIOS</span> settings to make&nbsp;it able to boot with <span class=caps>CD.</span> Then I could login the Guest <span class=caps>OS</span> provided by&nbsp;Ubuntu.</p><p>Finally, the <code>Gparted</code> runs a long time check for my boot partition, and&nbsp;extend the new space for me. I also create a swap space at the end of my disk.&nbsp;The story just not over since the swap space needs to be&nbsp;activated.</p><p>So now turns to be the most geeky part of this article, that how to setup&nbsp;the swap space on command line&nbsp;tool:</p><p>My swap is on partition&nbsp;<code>/dev/sda2</code></p><pre class=cb><code class=language-bash>sudo mkswap /dev/sda2
blkid /dev/sda2  <span class=c># this will generate an UUID string, copy without qoutes</span>
sudo swapon -U &lt;UUID from previous step&gt;
sudo vim /etc/fstab  <span class=c># important! change the UUID for your swap, it&#39;s different</span></code></pre><p>I don’t know if this is helped. But after reboot, my load-average just&nbsp;comes back to <code>0.1, 0.09, 0.11</code>, somewhat like the peaceful old&nbsp;days.</p></article></div><div class="three columns"></div></div></div><footer class=footer><section class=contents>coo <small>© Copyright 2014 speed-of-light</small></section><script src=//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js></script><script>window.jQuery || document.write('<script src="/_bower_components/jquery.js"><\/script>')</script><script src=/js/script.4bb7.js></script><!-- Google Analytics: change UA-XXXXX-X to be your site's ID. --><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
  function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
  e=o.createElement(i);r=o.getElementsByTagName(i)[0];
  e.src='//www.google-analytics.com/analytics.js';
  r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
  ga('create','UA-47926521-1', 'speed-of-light.github.io');
  ga('require', 'displayfeatures');ga('send','pageview');</script></footer></body></html>